<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.demo.mall.dao.CategoryMapper">
    <insert id="insertCategoryBrand">
        INSERT INTO tz_category_brand (category_id,brand_id) VALUES
        <foreach collection="brandIds" item="brandId" separator=",">
            (#{categoryId},#{brandId})
        </foreach>
    </insert>

    <select id="tableCategory" resultType="com.demo.mall.bean.model.Category">
        SELECT category_id, parent_id, category_name, pic, `seq`, `status`
        FROM tz_category
        WHERE shop_id = #{shopId}
        order by seq
    </select>

    <select id="listByParentId" resultType="com.demo.mall.bean.model.Category">
        SELECT category_id, category_name, seq, status, pic
        FROM tz_category
        WHERE parent_id = #{parentId}
          AND `status` = 1
        ORDER BY seq
    </select>

</mapper>